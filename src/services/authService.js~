import axiosConfig from "../configs/axios.config.js";

class AuthService{
    static async register(userData) {
        try {
            const response = await axiosConfig.post('http://localhost:8080/api/auth/register', userData);
            return response.data;
        } catch (error) {
            throw error.response?.data || { error: 'Đăng ký thất bại' };
        }
    }

    static async login(phoneNumber, password) {
        try {
            const response = await axiosConfig.post('/api/auth/login', {
                phoneNumber,
                password
            });

            if (response.data.token) {
                localStorage.setItem('user', JSON.stringify(response.data));
            }
            return response.data;
        } catch (error) {
            throw error.response?.data || { error: 'Đăng nhập thất bại' };
        }
    }



}

export default AuthService